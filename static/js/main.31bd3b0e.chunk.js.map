{"version":3,"sources":["config.js","App.js","index.js"],"names":["TODO_ENTER_YOUR_KEY","TODO_LIST_ABI","inputs","stateMutability","type","name","outputs","internalType","App","console","log","useState","account","setAccount","owner","setOwner","balance","setBalance","useEffect","getloadWeb3","window","ethereum","web3","Web3","enable","currentProvider","alert","loadBlockchainData","givenProvider","MyDeposit","eth","Contract","getAccounts","accounts","methods","call","owners","getBalance","balances","className","role","id","onClick","rootElement","document","getElementById","createRoot","render"],"mappings":"wlBAEaA,G,OAAsB,oCAEtBC,EAAgB,CAC3B,CACEC,OAAQ,GACRC,gBAAiB,aACjBC,KAAM,eAER,CACEF,OAAQ,GACRG,KAAM,aACNC,QAAS,CACP,CACEC,aAAc,UACdF,KAAM,GACND,KAAM,YAGVD,gBAAiB,OACjBC,KAAM,YAER,CACEF,OAAQ,GACRG,KAAM,QACNC,QAAS,CACP,CACEC,aAAc,UACdF,KAAM,GACND,KAAM,YAGVD,gBAAiB,OACjBC,KAAM,YAER,CACEF,OAAQ,GACRG,KAAM,YACNC,QAAS,GACTH,gBAAiB,UACjBC,KAAM,YAER,CACEF,OAAQ,CACN,CACEK,aAAc,kBACdF,KAAM,YACND,KAAM,WAER,CACEG,aAAc,UACdF,KAAM,SACND,KAAM,YAGVC,KAAM,gBACNC,QAAS,CACP,CACEC,aAAc,OACdF,KAAM,GACND,KAAM,SAGVD,gBAAiB,aACjBC,KAAM,a,QCgCKI,MAxFf,WACEC,QAAQC,IAAI,WACZ,MAA8BC,mBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0BF,mBAAS,GAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAA8BJ,mBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KAwDA,OAtDAC,qBAAU,WACR,IAAMC,EAAW,iDAAG,4FACdC,OAAOC,SADO,uBAEhBZ,QAAQC,IAAI,MACZU,OAAOE,KAAO,IAAIC,IAAKH,OAAOC,UAHd,SAIVD,OAAOC,SAASG,SAJN,6BAKPJ,OAAOE,MAChBb,QAAQC,IAAI,MACZU,OAAOE,KAAO,IAAIC,IAAKH,OAAOE,KAAKG,mBAEnChB,QAAQC,IAAI,MACZU,OAAOM,MACL,8DAXc,2CAAH,qDAgBXC,EAAkB,iDAAG,6GACnBL,EAAO,IAAIC,IACfA,IAAKK,eACH,+BAAiC5B,GAGrCS,QAAQC,IAAI,+BAAiCV,GAEvC6B,EAAY,IAAIP,EAAKQ,IAAIC,SAAS9B,EDxCb,8CCyC3BQ,QAAQC,IAAImB,GATa,SAWDP,EAAKQ,IAAIE,cAXR,0BAWnBC,EAXmB,OAYzBpB,EAAWoB,EAAS,IACpBxB,QAAQC,IAAI,gBAAkBE,GAC9BH,QAAQC,IAAI,MAda,UAiBHmB,EAAUK,QAAQpB,QAAQqB,OAjBvB,2BAiBnBC,EAjBmB,OAkBzBrB,EAASqB,EAAO,IAChB3B,QAAQC,IAAI,sBAAwBI,GACpCL,QAAQC,IAAI,MApBa,UAuBDmB,EAAUK,QAAQG,aAAaF,OAvB9B,oBAuBnBG,EAvBmB,OAwBzB7B,QAAQC,IAAI4B,EAAS,IACrBrB,EAAWqB,EAAS,IACpB7B,QAAQC,IAAI,wBAA0BM,GA1Bb,4CAAH,qDAiCxBG,IACAQ,GACD,GAAE,CAACX,EAASF,IAGX,8BACE,qBAAKyB,UAAU,kBAAf,SACE,qBAAKA,UAAU,MAAf,SACE,uBAAMC,KAAK,OAAOD,UAAU,0CAA5B,UACE,qBAAKE,GAAG,SAASF,UAAU,cAA3B,SACE,oBAAGA,UAAU,cAAb,4BACkB9B,QAAQC,IAAI,oBAGhC,sBAAK+B,GAAG,UAAR,UACE,mDAAsB7B,EAAtB,OAEA,mDAAsBI,EAAtB,OAEA,iDAAoBF,EAApB,OACA,yBAAQV,KAAK,SAASsC,QAASjC,QAAQC,IAAI,kBAA3C,UACG,IADH,0CAUb,EC1FKiC,EAAcC,SAASC,eAAe,QAC/BC,qBAAWH,GAEnBI,OACH,cAAC,aAAD,UACE,cAAC,EAAD,M","file":"static/js/main.31bd3b0e.chunk.js","sourcesContent":["export const TODO_LIST_ADDRESS = \"0xe78a5c60fa13BBB677d4c1D37a007ed59bE5Ca2e\";\r\n\r\nexport const TODO_ENTER_YOUR_KEY = \"4dbec6e76f1a42b7ba71e789e4e67e60\";\r\n\r\nexport const TODO_LIST_ABI = [\r\n  {\r\n    inputs: [],\r\n    stateMutability: \"nonpayable\",\r\n    type: \"constructor\"\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: \"getBalance\",\r\n    outputs: [\r\n      {\r\n        internalType: \"uint256\",\r\n        name: \"\",\r\n        type: \"uint256\"\r\n      }\r\n    ],\r\n    stateMutability: \"view\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: \"owner\",\r\n    outputs: [\r\n      {\r\n        internalType: \"address\",\r\n        name: \"\",\r\n        type: \"address\"\r\n      }\r\n    ],\r\n    stateMutability: \"view\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: \"sendEther\",\r\n    outputs: [],\r\n    stateMutability: \"payable\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: \"address payable\",\r\n        name: \"recipient\",\r\n        type: \"address\"\r\n      },\r\n      {\r\n        internalType: \"uint256\",\r\n        name: \"amount\",\r\n        type: \"uint256\"\r\n      }\r\n    ],\r\n    name: \"transferEther\",\r\n    outputs: [\r\n      {\r\n        internalType: \"bool\",\r\n        name: \"\",\r\n        type: \"bool\"\r\n      }\r\n    ],\r\n    stateMutability: \"nonpayable\",\r\n    type: \"function\"\r\n  }\r\n];\r\n","import React, { useEffect, useState } from \"react\";\nimport Web3 from \"web3\";\nimport \"./App.css\";\nimport {\n  TODO_LIST_ABI,\n  TODO_LIST_ADDRESS,\n  TODO_ENTER_YOUR_KEY\n} from \"./config\";\n\nfunction App() {\n  console.log(\"run App\");\n  const [account, setAccount] = useState(0);\n  const [owner, setOwner] = useState(0);\n  const [balance, setBalance] = useState(0);\n\n  useEffect(() => {\n    const getloadWeb3 = async () => {\n      if (window.ethereum) {\n        console.log(\"11\");\n        window.web3 = new Web3(window.ethereum);\n        await window.ethereum.enable();\n      } else if (window.web3) {\n        console.log(\"22\");\n        window.web3 = new Web3(window.web3.currentProvider);\n      } else {\n        console.log(\"33\");\n        window.alert(\n          \"No ethereum browser detected! You can check out MetaMask!\"\n        );\n      }\n    };\n\n    const loadBlockchainData = async () => {\n      const web3 = new Web3(\n        Web3.givenProvider ||\n          \"https://goerli.infura.io/v3/\" + TODO_ENTER_YOUR_KEY\n      );\n\n      console.log(\"https://goerli.infura.io/v3/\" + TODO_ENTER_YOUR_KEY);\n\n      const MyDeposit = new web3.eth.Contract(TODO_LIST_ABI, TODO_LIST_ADDRESS);\n      console.log(MyDeposit);\n      //call de l'account metamask\n      const accounts = [await web3.eth.getAccounts()];\n      setAccount(accounts[0]);\n      console.log(\"account[0] : \" + account);\n      console.log(\"44\");\n\n      // call du owner\n      const owners = [await MyDeposit.methods.owner().call()];\n      setOwner(owners[0]);\n      console.log(\"this.state.owner : \" + owner);\n      console.log(\"55\");\n\n      //call de la balance\n      const balances = [await MyDeposit.methods.getBalance().call()];\n      console.log(balances[0]);\n      setBalance(balances[0]);\n      console.log(\"this.state.balance : \" + balance);\n\n      // transfert ether to contract,\n\n      // await MyDeposit.methods.sendEther().send({from: address , value: 10});\n    };\n\n    getloadWeb3();\n    loadBlockchainData();\n  }, [balance, owner]);\n\n  return (\n    <div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <main role=\"main\" className=\"col-lg-12 d-flex justify-content-center\">\n            <div id=\"loader\" className=\"text-center\">\n              <p className=\"text-center\">\n                On progress... {console.log(\"on progress\")}\n              </p>\n            </div>\n            <div id=\"content\">\n              <p> the account is : {account} </p>\n\n              <p> the balance is : {balance} </p>\n\n              <p> the owner is : {owner} </p>\n              <button type=\"button\" onClick={console.log(\"button clicked\")}>\n                {\" \"}\n                click to transfert 10 wei\n              </button>\n            </div>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}